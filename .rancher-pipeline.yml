stages:
- name: compile
  steps:
  - runScriptConfig:
      image: maven
      shellScript: mvn clean package fabric8:build fabric8:push  -Ddocker.username=${DOCKER_USERNAME}
        -Ddocker.password=${DOCKER_PASSWORD} -Dcheckstyle.skip=true -Pkubernetes -f
        kubernetes-hello-world-example/pom.xml
    env:
      DOCKER_PASSWORD: hyc123456
      DOCKER_USERNAME: 1352640897@qq.com
- name: deploy
  steps:
  - applyYamlConfig:
      path: kubernetes-hello-world-example/target/classes/META-INF/fabric8/kubernetes.yml
timeout: 60
notification: {}
